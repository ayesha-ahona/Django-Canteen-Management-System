{% extends "my_canteen/base.html" %}
{% block content %}
<h2>👑 Super Admin Dashboard</h2>

<div class="dashboard-tabs">
    <button class="tab-btn" onclick="showTab('orders')">📦 Manage Orders</button>
    <button class="tab-btn" onclick="showTab('menu')">📋 Manage Menu</button>
    <button class="tab-btn" onclick="showTab('users')">👥 Manage Users</button>
    <button class="tab-btn" onclick="showTab('reports')">📊 Reports</button>
    <button class="tab-btn" onclick="showTab('settings')">⚙️ Settings</button>
    <button class="tab-btn" onclick="showTab('profile')">👤 Profile</button>
</div>

<!-- Orders -->
<div id="orders" class="tab-content active">
    <h3>All Orders</h3>
    <table class="orders-table">
        <tr><th>User</th><th>Items</th><th>Total</th><th>Status</th></tr>
        {% for order in orders %}
        <tr>
            <td>{{ order.user.username }}</td>
            <td>{% for item in order.items.all %} {{ item.name }} <br> {% endfor %}</td>
            <td>{{ order.total_price }} Tk</td>
            <td class="status {{ order.status }}">{{ order.status }}</td>
        </tr>
        {% empty %}<tr><td colspan="4">No orders.</td></tr>{% endfor %}
    </table>
</div>

<!-- Menu Management -->
<div id="menu" class="tab-content">
    <h3>Menu Management</h3>
    <p>SuperAdmin can add/remove/update menu items.</p>
</div>

<!-- User Management -->
<div id="users" class="tab-content">
    <h3>User Management</h3>
    <p>SuperAdmin can manage users (create/delete/change roles).</p>
</div>

<!-- Reports -->
<div id="reports" class="tab-content">
    <h3>Reports</h3>
    <p>SuperAdmin can view sales, stock, and activity reports.</p>
</div>

<!-- Settings -->
<div id="settings" class="tab-content">
    <h3>System Settings</h3>
    <p>Full control over system configurations.</p>
</div>

<!-- Profile -->
<div id="profile" class="tab-content">
    <h3>Profile</h3>
    <div class="profile-card">
        <p><strong>Name:</strong> {{ profile.user.username }}</p>
        <p><strong>Email:</strong> {{ profile.user.email }}</p>
        <p><strong>Phone:</strong> {{ profile.phone }}</p>
    </div>
</div>

<script>
function showTab(tabId) {
    document.querySelectorAll('.tab-content').forEach(div => div.classList.remove('active'));
    document.getElementById(tabId).classList.add('active');
}
</script>
{% endblock %}
